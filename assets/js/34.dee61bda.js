(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{449:function(e,t,a){"use strict";a.r(t);var s=a(62),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"elevate-quickstart-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elevate-quickstart-guide"}},[e._v("#")]),e._v(" ELevate Quickstart Guide")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("Before beginnning, we "),a("strong",[e._v("HIGHLY")]),e._v(" recommend that you follow system administration best practices and make sure you have backups and/or snapshots of your system before you proceed. It is recommended to do a trial run in a sandbox to verify that migration worked as expected before you attempt to migrate any production system. Please report any issues encountered to the "),a("a",{attrs:{href:"https://bugs.almalinux.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("AlmaLinux Bug Tracker"),a("OutboundLink")],1),e._v(" and/or "),a("a",{attrs:{href:"https://chat.almalinux.org/almalinux/channels/migration",target:"_blank",rel:"noopener noreferrer"}},[e._v("AlmaLinux Chat Migration Channel"),a("OutboundLink")],1)])]),e._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[e._v("DANGER")]),e._v(" "),a("p",[e._v("The ELevate project supports only CentOS repositories. It doesn't support other external repositories. Please, check the "),a("a",{attrs:{href:"/elevate/ELevate-frequent-issues"}},[e._v("ELevate Frequent Issues")]),e._v(" page for known and frequent issues.")])]),e._v(" "),a("p",[e._v("This guide contains steps on how to upgrade CentOS 7 to RHEL8 derivatives such as AlmaLinux, EuroLinux, CentOS Stream, Oracle, and Rocky Linux.")]),e._v(" "),a("p",[e._v("You need CentOS 7 system installed to use this guide.")]),e._v(" "),a("ul",[a("li",[e._v("Fully updated system is required to accomplish the upgrade. So, install the latest CentOS updates first, and reboot.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo yum update -y\nsudo reboot\n")])])]),a("ul",[a("li",[e._v("Install "),a("code",[e._v("elevate-release")]),e._v(" package with the project repo and GPG key.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo yum install -y http://repo.almalinux.org/elevate/elevate-release-latest-el7.noarch.rpm\n")])])]),a("ul",[a("li",[e._v("Install leapp packages and migration data for the OS you want to upgrade. Possible options are:\n"),a("ul",[a("li",[e._v("leapp-data-almalinux")]),e._v(" "),a("li",[e._v("leapp-data-centos")]),e._v(" "),a("li",[e._v("leapp-data-eurolinux")]),e._v(" "),a("li",[e._v("leapp-data-oraclelinux")]),e._v(" "),a("li",[e._v("leapp-data-rocky")])])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo yum install -y leapp-upgrade leapp-data-almalinux\n")])])]),a("ul",[a("li",[e._v("Start a preupgrade check. In the meanwhile, the Leapp utility creates a special "),a("em",[e._v("/var/log/leapp/leapp-report.txt")]),e._v(" file that contains possible problems and recommended solutions. No rpm packages will be installed at this phase.")])]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("Preupgrade check will fail as the default CentOS 7 doesn't meet all requirements for migration.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo leapp preupgrade\n")])])]),a("p",[e._v("This summary report will help you get a picture of whether it is possible to continue the upgrade.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("In certain configurations, Leapp generates "),a("em",[e._v("/var/log/leapp/answerfile")]),e._v(" with true/false questions. Leapp utility requires answers to all these questions in order to proceed with the upgrade.")])]),e._v(" "),a("ul",[a("li",[e._v("The following fixes from "),a("em",[e._v("the /var/log/leapp/leapp-report.txt")]),e._v(" file are mandatory, but you can also review the rest of them if needed.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo rmmod pata_acpi\necho PermitRootLogin yes | sudo tee -a /etc/ssh/sshd_config\nsudo leapp answer --section remove_pam_pkcs11_module_check.confirm=True\n")])])]),a("p",[e._v("Check the "),a("a",{attrs:{href:"/elevate/ELevate-frequent-issues"}},[e._v("ELevate Frequent Issues")]),e._v(" page for known and frequent issues and guidance steps to solve them.")]),e._v(" "),a("ul",[a("li",[e._v("Start an upgrade. You'll be offered to reboot the system after this process is completed.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo leapp upgrade\nsudo reboot\n")])])]),a("ul",[a("li",[a("p",[e._v("A new entry in GRUB called "),a("code",[e._v("ELevate-Upgrade-Initramfs")]),e._v(" will appear. The system will be automatically booted into it.\nSee how the update process goes in the console.")])]),e._v(" "),a("li",[a("p",[e._v("After reboot, login to the system and check how the migration went. Verify that the current OS is the one you need.")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cat /etc/redhat-release\ncat /etc/os-release\nrpm -qa | grep centos\nrpm -qa | grep el7\n")])])]),a("h3",{attrs:{id:"demo-video"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demo-video"}},[e._v("#")]),e._v(" Demo Video")]),e._v(" "),a("p",[e._v("Check Demo of a CentOS 7.x to AlmaLinux 8.x migration using the software and data provided by the AlmaLinux ELevate Project.")]),e._v(" "),a("iframe",{attrs:{width:"856",height:"482",src:"https://www.youtube.com/embed/Vzl9QxG5mvo",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])}),[],!1,null,null,null);t.default=r.exports}}]);